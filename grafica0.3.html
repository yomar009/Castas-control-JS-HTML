<!DOCTYPE html>
<html>
<head>
    <script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body>

<div id="grafico"></div>

<script>
// Datos y variable n
const datos = [2, 5, 4, 7, 8];
const n = 5;

// Función para crear la lista
function crearLista(n) {
    const lista = [];
    for (let i = 1; i <= n; i++) {
        lista.push(i);
    }
    return lista;
}

// Crear lista
const listaGenerada = crearLista(n);

// Crear gráfico de líneas con D3.js
const svgWidth = 400;
const svgHeight = 200;
const margin = { top: 20, right: 20, bottom: 40, left: 40 };

const width = svgWidth - margin.left - margin.right;
const height = svgHeight - margin.top - margin.bottom;

const svg = d3.select("#grafico")
    .append("svg")
    .attr("width", svgWidth)
    .attr("height", svgHeight)
    .append("g")
    .attr("transform", `translate(${margin.left},${margin.top})`);

const xScale = d3.scaleLinear()
    .domain([1, n])
    .range([0, width]);

const yScale = d3.scaleLinear()
    .domain([0, d3.max(datos)])
    .range([height, 0]);

const line = d3.line()
    .x((d, i) => xScale(i + 1))
    .y((d) => yScale(d));

svg.append("path")
    .datum(datos)
    .attr("fill", "none")
    .attr("stroke", "steelblue")
    .attr("stroke-width", 2)
    .attr("d", line);

svg.selectAll("circle")
    .data(datos)
    .enter()
    .append("circle")
    .attr("cx", (d, i) => xScale(i + 1))
    .attr("cy", (d) => yScale(d))
    .attr("r", 5)
    .attr("fill", "steelblue");

// Agregar números en los ejes X e Y
const xAxis = d3.axisBottom(xScale).ticks(n);
const yAxis = d3.axisLeft(yScale).ticks(d3.max(datos));

svg.append("g")
    .attr("transform", `translate(0,${height})`)
    .call(xAxis);

svg.append("g")
    .call(yAxis);

</script>

</body>
</html>

